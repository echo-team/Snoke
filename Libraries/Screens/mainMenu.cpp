#include "mainMenu.h"

/**
 * Draws main menu
 */
void MainMenu::draw()
{
    Logo snoke(0, 0, {' ', COLOR_WHITE, COLOR_WHITE}, {' ', COLOR_BLACK, COLOR_RED}, 0);
    int menuHeight        = 12,
        snokeBottomBorder = 2;
    Point consoleSize = getConsoleSize(),
          snokeSize   = snoke.getSize(),
          menuStartPoint, snokeStartPoint;

    snokeStartPoint.x = (consoleSize.x - snokeSize.x) / 2;
    snokeStartPoint.y = (consoleSize.y - snokeSize.y - menuHeight - snokeBottomBorder) / 2;
    snoke.setPosition(snokeStartPoint.x, snokeStartPoint.y);
    snoke.draw();

    menuStartPoint.x  = snokeStartPoint.x;
    menuStartPoint.y  = snokeStartPoint.y + snokeSize.y + snokeBottomBorder;

    Menu menu(menuStartPoint.x, menuStartPoint.y, snokeSize.x, menuHeight);
    menu.addButton("Profile");
    menu.addButton("Play");
    menu.addButton("Search");
    menu.addButton("Settings");
    menu.addButton("About game");
    menu.addButton("DONATE");
    menu.draw();

    Navigator navigator;
    navigator.pushUnit(&menu, 6);
    navigator.listen();
}
